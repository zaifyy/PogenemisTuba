<!DOCTYPE html>
<html lang="et">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KüberPõgenemistuba</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>
</head>
<body>
    <h1>KüberPõgenemistuba 2025</h1>
    <div id="game-container">
        <p>Oled lukustatud serveriruumi. Lahenda ülesanded, et põgeneda!</p>
        <button onclick="startGame()">Alusta</button>

        <div id="task1" class="hidden">
            <button class="hint-button" onclick="showTaskHint(1)">Vihje</button>
            <p>Ülesanne 1: Leia õige parool, et avada uks.</p>
            <p id="task1Hint" class="hidden">Vihje: Tegemist on hex-koodiga.</p>
            <p class="clickable" onclick="revealHint(1)">(Uurige serveriruumi seina)</p>
            <p id="hint1" class="hidden">Monitoril vilgub tekst: "Kood on krüptitud: 6bC3BC626572313233"</p>
            <input type="text" id="passwordInput" placeholder="Sisesta parool">
            <button onclick="checkPassword()">Sisesta</button>
            <p id="passwordFeedback"></p>
        </div>

        <div id="task2" class="hidden">
            <button class="hint-button" onclick="showTaskHint(2)">Vihje</button>
            <p>Ülesanne 2: Tuvasta petturlik e-kiri.</p>
            <p id="task2Hint" class="hidden">Vihje: Petturlikud kirjad sisaldavad sageli kiireloomulisi nõudmisi ja küsivad isiklikke andmeid.</p>
            <p class="clickable" onclick="checkEmail(true)">E-kiri 1: Teie pank küsib kiiresti teie paroole.</p>
            <p class="clickable" onclick="checkEmail(false)">E-kiri 2: Tere, siin on teie tellitud uudiskiri.</p>
            <p id="emailFeedback"></p>
        </div>
        
        <div id="task3" class="hidden">
            <button class="hint-button" onclick="showTaskHint(3)">Vihje</button>
            <p>Ülesanne 3: Valige turvaline WiFi-võrk.</p>
            <p id="task3Hint" class="hidden">Vihje: Avalikud WiFi-võrgud võivad olla ebaturvalised ja võimaldada häkkeritel teie andmeid varastada.</p>
            <p class="clickable" onclick="checkWiFi(true)">WiFi1: SecureNet WPA2</p>
            <p class="clickable" onclick="checkWiFi(false)">WiFi2: Free Public WiFi</p>
            <p id="wifiFeedback"></p>
        </div>
        
        <div id="task4" class="hidden">
            <button class="hint-button" onclick="showTaskHint(4)">Vihje</button>
            <p>Ülesanne 4: Koodimurdmine - mis on järgnev arv?</p>
            <p id="task4Hint" class="hidden">Vihje: Fibonacci jada.</p>
            <p>1, 1, 2, 3, 5, 8, ?</p>
            <input type="text" id="codeBreakInput">
            <button onclick="checkCodeBreak()">Sisesta</button>
            <p id="codeBreakFeedback"></p>
        </div>
        
        <div id="task5" class="hidden">
            <button class="hint-button" onclick="showTaskHint(5)">Vihje</button>
            <p>Ülesanne 5: Leia varjatud sõnum.</p>
            <p id="task5Hint" class="hidden">Vihje: Vaata HTML-koodi!</p>
            <p style="display: none;">Varjatud sõnum: "CyberSafe2025"</p>
            <input type="text" id="hiddenMessageInput">
            <button onclick="checkHiddenMessage()">Sisesta</button>
            <p id="hiddenMessageFeedback"></p>
        </div>

        <!-- Lisatud uued ülesanded (CTF-stiilis) -->
        <div id="task6" class="hidden">
            <button class="hint-button" onclick="showTaskHint(6)">Vihje</button>
            <p>Ülesanne 6: Leia peidetud sõnum pildist.</p>
            <p id="task6Hint" class="hidden">Vihje: Kasuta tööriista, mis oskab piltidest peidetud infot lugeda. Dekodeerimiseks vajaliku parooli leiad HTML koodi uurides</p>
            <img src="secret.jpg" alt="Steganograafia" parool="s80-b5.5" width="800">
            <input type="text" id="stegoInput">
            <button onclick="checkStego()">Sisesta</button>
            <p id="stegoFeedback"></p>
        </div>

        <div id="task7" class="hidden">
            <button class="hint-button" onclick="showTaskHint(7)">Vihje</button>
            <p>Ülesanne 7: Uuri veebilehel ringi...</p>
            <p id="task7Hint" class="hidden">Vihje: Siin on väga palju tühja ruumi, ehk on midagi siin kirjas.</p>
            <p id="task7-kood" style="position: absolute; bottom: 10px; left: 10px; color: #000; font-size: 8px;">Q3liZXJTdGVwMjAyNQ==</p>
            <input type="text" id="base64Input">
            <button onclick="checkBase64()">Sisesta</button>
            <p id="base64Feedback"></p>
        </div>

        <div id="task8" class="hidden">
            <button class="hint-button" onclick="showTaskHint(8)">Vihje</button>
            <p>Ülesanne 8: Logi sisse kasutades SQL-injectioni.</p>
            <input type="text" id="sqlInput" placeholder="Kasutajanimi">
            <p id="task8Hint" class="hidden">Vihje: Vastus sisaldab 'admin' ja number '1'.</p>
            <button onclick="checkSQLInjection()">Sisesta</button>
            <p id="sqlFeedback"></p>
        </div>

        <div id="task9" class="hidden">
            <button class="hint-button" onclick="showTaskHint(9)">Vihje</button>
            <p>Ülesanne 9: Leia salasõna JavaScripti konsooliga.</p>
            <p id="task9Hint" class="hidden">Vihje: Ava konsool (F12 või Ctrl+Shift+I) ja käivita "showSecret()". Koodi krüpteerijale meeldib vabal ajal süüa "Caesari" salatit.</p>
            <input type="text" id="consoleInput">
            <button onclick="checkConsole()">Sisesta</button>
            <p id="consoleFeedback"></p>
        </div>

        <div id="task10" class="hidden">
            <button class="hint-button" onclick="showTaskHint(10)">Vihje</button>
            <p id="task10Hint" class="hidden">Vihje: Kasuta XOR-i dekodeerimiseks. Dekodeerimiseks on sul vaja võtit, selle leiad kusagilt veebilehelt.</p>
            <p>Ülesanne 10: Murra XOR-krüpteering.</p>
            <p>Krüptitud tekst: 62-5c-5b-5b-50-47-61-54-5e-50-46-7c-41-74-59-59</p>
            <p id="task10-kood" style="position: absolute; bottom: 10px; left: 10px; color: #000; font-size: 8px;">Võti = 5</p>
            <input type="text" id="xorInput">
            <button onclick="checkXOR()">Sisesta</button>
            <p id="xorFeedback"></p>
        </div>

    </div>
</body>
</html>
